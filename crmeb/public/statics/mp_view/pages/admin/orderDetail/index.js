(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/admin/orderDetail/index"],{"205e":function(t,e,n){"use strict";var r=n("edbe"),o=n.n(r);o.a},"36bd":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("a34a")),o=n("aeba"),i=n("93d6");function u(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n,r,o,i,u){try{var s=t[i](u),a=s.value}catch(d){return void n(d)}s.done?e(a):Promise.resolve(a).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){s(i,r,o,u,a,"next",t)}function a(t){s(i,r,o,u,a,"throw",t)}u(void 0)}))}}var d=function(){n.e("pages/admin/components/PriceChange/index").then(function(){return resolve(n("a276"))}.bind(null,n)).catch(n.oe)},c={name:"AdminOrder",components:{PriceChange:d},props:{},data:function(){return{order:!1,change:!1,order_id:"",orderInfo:{_status:{}},status:"",title:"",payType:"",types:"",order_type:"",clickNum:1,goname:"",customForm:[]}},watch:{"$route.params.oid":function(t){var e=this;void 0!=t&&(e.order_id=t,e.getIndex())}},onShow:function(){this.getIndex()},onLoad:function(t){this.order_id=t.id,this.goname=t.goname,this.order_type=t.types},methods:{more:function(){this.order=!this.order},modify:function(t){this.change=!0,this.status=t},changeclose:function(t){this.change=t},getIndex:function(){var t=this,e=-3==this.order_type?o.getAdminRefundOrderDetail:o.getAdminOrderDetail;e(t.order_id).then((function(e){if(t.orderInfo=e.data,t.types=e.data._status._type,t.title=e.data._status._title,t.payType=e.data._status._payType,t.orderInfo.custom_form&&t.orderInfo.custom_form.length){var n=[];t.orderInfo.custom_form.map((function(t){""!=t.value&&n.push(t)})),t.$set(t,"customForm",n)}}),(function(t){}))},savePrice:function(t){var e=this;return a(r.default.mark((function n(){var u,s,a,d,c,f,l;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(u=e,s={},a=t.price,d=t.refund_price,c=u.orderInfo.refund_status,f=t.remark,s.order_id=u.orderInfo.order_id,0!=u.status||0!==c){n.next=9;break}if((0,i.isMoney)(a)){n.next=5;break}return n.abrupt("return",u.$util.Tips({title:u.$t("请输入正确的金额")}));case 5:s.price=a,(0,o.setAdminOrderPrice)(s).then((function(){u.change=!1,u.$util.Tips({title:u.$t("改价成功"),icon:"success"}),u.getIndex()}),(function(){u.change=!1,u.$util.Tips({title:u.$t("改价失败"),icon:"none"})})),n.next=22;break;case 9:if(0!=u.status||1!==c){n.next=17;break}if((0,i.isMoney)(d)){n.next=12;break}return n.abrupt("return",u.$util.Tips({title:u.$t("请输入正确的金额")}));case 12:s.price=d,s.type=t.type,(0,o.setOrderRefund)(s).then((function(t){u.change=!1,u.$util.Tips({title:t.msg}),u.getIndex()}),(function(t){u.change=!1,u.$util.Tips({title:t})})),n.next=22;break;case 17:if(f){n.next=19;break}return n.abrupt("return",u.$util.Tips({title:u.$t("请输入备注")}));case 19:s.remark=f,l=-3==u.order_type?(0,o.setAdminRefundRemark)(s):(0,o.setAdminOrderRemark)(s),l.then((function(t){u.change=!1,u.$util.Tips({title:t.msg,icon:"success"}),u.getIndex()}),(function(t){u.change=!1,u.$util.Tips({title:t})}));case 22:case"end":return n.stop()}}),n)})))()},offlinePay:function(){var t=this;(0,o.setOfflinePay)({order_id:this.orderInfo.order_id}).then((function(e){t.$util.Tips({title:e.msg,icon:"success"}),t.getIndex()}),(function(e){t.$util.Tips({title:e})}))},copyNum:function(e){t.setClipboardData({data:e,success:function(){}})}}};e.default=c}).call(this,n("543d")["default"])},"787c":function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var o=function(){var t=this,e=t.$createElement,n=(t._self._c,t.$t("订单")),r="looks"==t.goname||t.orderInfo.remark?null:t.$t("订单未备注，点击添加备注信息"),o=t.$t("复制"),i=t.$t("￥"),u=t.$t("￥"),s=t.$t("共"),a=t.$t("件商品，应支付"),d=t.$t("￥"),c=t.$t("邮费"),f=t.$t("￥"),l=t.$t("订单编号"),p=t.$t("复制"),m=t.$t("下单时间"),_=t.$t("支付状态"),y=1==t.orderInfo.paid?t.$t("已支付"):null,$=1!=t.orderInfo.paid?t.$t("未支付"):null,h=t.$t("支付方式"),v=t.$t("买家留言"),I=t.$t("支付金额"),g=t.$t("￥"),b=t.$t("优惠券抵扣"),k=t.$t("￥"),x=t.$t("运费"),T=t.$t("￥"),P=t.$t("实付款"),w=t.$t("￥"),O="fictitious"!=t.orderInfo.delivery_type&&2===t.orderInfo._status._type?t.$t("配送方式"):null,A="fictitious"!=t.orderInfo.delivery_type&&2===t.orderInfo._status._type&&"express"===t.orderInfo.delivery_type?t.$t("快递"):null,M="fictitious"!=t.orderInfo.delivery_type&&2===t.orderInfo._status._type&&"send"===t.orderInfo.delivery_type?t.$t("送货"):null,R="fictitious"!=t.orderInfo.delivery_type&&2===t.orderInfo._status._type&&"express"===t.orderInfo.delivery_type?t.$t("快递公司"):null,D="fictitious"!=t.orderInfo.delivery_type&&2===t.orderInfo._status._type&&"send"===t.orderInfo.delivery_type?t.$t("送货人"):null,N="fictitious"!=t.orderInfo.delivery_type&&2===t.orderInfo._status._type&&"express"===t.orderInfo.delivery_type?t.$t("快递单号"):null,j="fictitious"!=t.orderInfo.delivery_type&&2===t.orderInfo._status._type&&"send"===t.orderInfo.delivery_type?t.$t("送货人电话"):null,C="fictitious"!=t.orderInfo.delivery_type&&2===t.orderInfo._status._type?t.$t("复制"):null,S="looks"!=t.goname&&0==t.types?t.$t("一键改价"):null,F="looks"!=t.goname&&-1==t.types?t.$t("立即退款"):null,J="looks"!=t.goname?t.$t("订单备注"):null,L="looks"!=t.goname&&"offline"===t.orderInfo.pay_type&&0===t.orderInfo.paid?t.$t("确认付款"):null,U="looks"==t.goname||1!=t.types||1!==t.orderInfo.shipping_type||null!==t.orderInfo.pinkStatus&&2!==t.orderInfo.pinkStatus?null:t.$t("去发货");t.$mp.data=Object.assign({},{$root:{m0:n,m1:r,m2:o,m3:i,m4:u,m5:s,m6:a,m7:d,m8:c,m9:f,m10:l,m11:p,m12:m,m13:_,m14:y,m15:$,m16:h,m17:v,m18:I,m19:g,m20:b,m21:k,m22:x,m23:T,m24:P,m25:w,m26:O,m27:A,m28:M,m29:R,m30:D,m31:N,m32:j,m33:C,m34:S,m35:F,m36:J,m37:L,m38:U}})},i=[]},"7d24":function(t,e,n){"use strict";n.r(e);var r=n("787c"),o=n("e756");for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n("205e");var u,s=n("f0c5"),a=Object(s["a"])(o["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],u);e["default"]=a.exports},daa4:function(t,e,n){"use strict";(function(t){n("d5c5");r(n("66fd"));var e=r(n("7d24"));function r(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},e756:function(t,e,n){"use strict";n.r(e);var r=n("36bd"),o=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=o.a},edbe:function(t,e,n){}},[["daa4","common/runtime","common/vendor"]]]);