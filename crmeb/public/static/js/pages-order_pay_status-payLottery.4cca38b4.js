(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order_pay_status-payLottery"],{"0065":function(t,e,i){var a=i("067f");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("820df222",a,!0,{sourceMap:!1,shadowMode:!1})},"067f":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* crmeb颜色变量 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.aleart[data-v-5bb97616]{width:%?500?%;position:fixed;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);z-index:999;top:50%;margin-top:%?-357?%;border-radius:%?12?%}.aleart .title[data-v-5bb97616]{padding:0;margin:0;height:%?110?%}.aleart .title .title-img[data-v-5bb97616]{width:100%;height:100%}.aleart .aleart-body[data-v-5bb97616]{display:flex;align-items:center;justify-content:center;flex-direction:column;background-color:#fdf7e7}.aleart .aleart-body .form-data[data-v-5bb97616]{width:100%}.aleart .aleart-body .goods-img[data-v-5bb97616]{width:%?150?%;height:%?150?%}.aleart .aleart-body .msg[data-v-5bb97616]{font-size:%?30?%;color:#282828}.aleart .close[data-v-5bb97616]{width:%?46?%;height:%?75?%;position:fixed;right:%?20?%;top:%?-73?%;display:block}.addAddress[data-v-5bb97616]{width:100%;padding:%?30?% %?30?%}.addAddress .list[data-v-5bb97616]{background-color:#fdf7e7}.addAddress .list .item[data-v-5bb97616]{border:%?1?% solid #a05644;margin-bottom:%?24?%;padding:%?10?%;border-radius:%?6?%}.addAddress .list .item .name[data-v-5bb97616]{width:%?195?%;font-size:%?30?%;color:#333}.addAddress .list .item .address[data-v-5bb97616]{flex:1;margin-left:%?20?%}.addAddress .list .item uni-input[data-v-5bb97616]{font-size:%?30?%}.addAddress .list .item .placeholder[data-v-5bb97616]{color:#ccc}.addAddress .list .item uni-picker .picker[data-v-5bb97616]{font-size:%?30?%}.addAddress .list .item uni-picker .iconfont[data-v-5bb97616]{font-size:%?43?%}.addAddress .default[data-v-5bb97616]{padding:0 %?30?%;height:%?90?%;background-color:#fff;margin-top:%?23?%}.addAddress .default uni-checkbox[data-v-5bb97616]{margin-right:%?15?%}.addAddress .keepBnt[data-v-5bb97616]{width:100%;height:%?86?%;border-radius:%?6?%;text-align:center;line-height:%?86?%;font-size:%?32?%;color:#452015;font-weight:700;background:#eebe6b;box-shadow:0 5px 9px 0 rgba(220,166,72,.24)}.addAddress .wechatAddress[data-v-5bb97616]{height:%?86?%;border-radius:%?6?%;text-align:center;line-height:%?86?%;margin:0 auto;font-size:%?32?%;color:#fe960f;border:1px solid #fe960f}',""]),t.exports=e},"10ef":function(t,e,i){t.exports=i.p+"static/img/pay-lottery-bag.0a8c3de1.png"},"16d8":function(t,e,i){"use strict";i.r(e);var a=i("3465"),n=i("74af");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("91e7");var s,o=i("f0c5"),d=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"67ee0e16",null,!1,a["a"],s);e["default"]=d.exports},3334:function(t,e,i){"use strict";i("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.auth=n,e.openPaySubscribe=r,e.openOrderSubscribe=s,e.openExtrctSubscribe=o,e.openPinkSubscribe=d,e.openBargainSubscribe=l,e.openOrderRefundSubscribe=c,e.openRechargeSubscribe=u,e.subscribe=f;var a=i("814d");function n(){var t={},e=uni.getStorageSync(a.SUBSCRIBE_MESSAGE);return t=e?JSON.parse(e):{},t}function r(){var t=n();return f([t.order_pay_success,t.order_deliver_success,t.order_postage_success])}function s(){var t=n();return f([t.order_take,t.integral_accout,t.order_brokerage])}function o(){var t=n();return f([t.user_extract])}function d(){var t=n();return f([t.pink_true,t.pink_status])}function l(){var t=n();return f([t.bargain_success])}function c(){var t=n();return f([t.order_refund])}function u(){var t=n();return f([t.recharge_success])}function f(t){var e=wx;return new Promise((function(i,a){e.requestSubscribeMessage({tmplIds:t,success:function(t){return i(t)},fail:function(t){return i(t)}})}))}},3465:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{style:t.colorStyle},[a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.lotteryShow,expression:"lotteryShow"}],staticClass:"header"},[a("v-uni-view",{staticClass:"pay-status"},[a("v-uni-text",{staticClass:"iconfont icon-gou"}),a("v-uni-view",{staticClass:"pay-status-r"},[a("v-uni-text",{staticClass:"pay-status-text"},[t._v("支付成功")]),a("v-uni-text",[t._v("支付金额：¥"+t._s(t.totalPrice))])],1)],1),a("v-uni-view",{staticClass:"jump"},[a("v-uni-view",{staticClass:"jump-det",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.orderDetails.apply(void 0,arguments)}}},[t._v("查看订单")]),a("v-uni-view",{staticClass:"jump-index",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goIndex.apply(void 0,arguments)}}},[t._v("返回首页")])],1)],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.lotteryShow,expression:"lotteryShow"}],staticClass:"grids-top"},[a("v-uni-image",{attrs:{src:i("b967"),mode:""}}),a("v-uni-view",{staticClass:"grids-title"},[a("v-uni-view",[t._v("恭喜您，")]),a("v-uni-view",{staticClass:"grids-frequency"},[t._v("获得"+t._s(t.lottery_num)+"次")]),a("v-uni-view",[t._v("抽奖机会")])],1),a("v-uni-image",{attrs:{src:i("7fe5"),mode:""}})],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.lotteryShow,expression:"lotteryShow"}],staticClass:"grids"},[a("v-uni-image",{staticClass:"grids-bag",attrs:{src:i("10ef"),mode:""}}),a("v-uni-view",{staticClass:"grids-box"},[a("gridsLottery",{attrs:{prizeData:t.prize},on:{get_winingIndex:function(e){arguments[0]=e=t.$handleEvent(e),t.getWiningIndex.apply(void 0,arguments)},luck_draw_finish:function(e){arguments[0]=e=t.$handleEvent(e),t.luck_draw_finish.apply(void 0,arguments)}}})],1)],1),a("lotteryAleart",{attrs:{aleartStatus:t.aleartStatus,alData:t.alData,aleartType:t.aleartType},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.closeLottery.apply(void 0,arguments)}}}),t.aleartStatus||t.addressModel?a("v-uni-view",{staticClass:"mask"}):t._e(),a("userAddress",{attrs:{aleartStatus:t.addressModel},on:{getAddress:function(e){arguments[0]=e=t.$handleEvent(e),t.getAddress.apply(void 0,arguments)},close:function(e){arguments[0]=e=t.$handleEvent(e),function(){t.addressModel=!1}.apply(void 0,arguments)}}})],1)},r=[]},3929:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.aleartStatus?i("v-uni-view",{staticClass:"aleart"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-image",{staticClass:"title-img",attrs:{src:"/static/images/address-aleart-header.png",mode:""}})],1),i("v-uni-view",{staticClass:"aleart-body"},[i("v-uni-form",{staticClass:"form-data",on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.formSubmit.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"addAddress"},[i("v-uni-view",{staticClass:"list"},[i("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请输入姓名",name:"name",value:t.userAddress.name,"placeholder-class":"placeholder"}})],1),i("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[i("v-uni-input",{attrs:{type:"number",placeholder:"请输入联系电话",name:"phone",value:t.userAddress.phone,"placeholder-class":"placeholder",pattern:"\\d*"}})],1),i("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[i("v-uni-view",{staticClass:"address"},[i("v-uni-picker",{attrs:{mode:"multiSelector",value:t.valueRegion,range:t.multiArray},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindRegionChange.apply(void 0,arguments)},columnchange:function(e){arguments[0]=e=t.$handleEvent(e),t.bindMultiPickerColumnChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"acea-row"},[i("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.region[0])+"，"+t._s(t.region[1])+"，"+t._s(t.region[2]))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请填写具体地址",name:"detail","placeholder-class":"placeholder",value:t.userAddress.detail}})],1)],1),i("v-uni-button",{staticClass:"keepBnt",attrs:{"form-type":"submit"}},[t._v("提交")])],1)],1)],1)],1):t._e()},r=[]},"3c4e":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.aleartStatus?a("v-uni-view",{staticClass:"aleart"},[a("v-uni-image",{staticClass:"close",attrs:{src:i("6510")},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.posterImageClose.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"title"},[t._v(t._s(t.aleartData.title))]),a("v-uni-view",{staticClass:"aleart-body"},[t.aleartData.img?a("v-uni-image",{staticClass:"goods-img",attrs:{src:t.aleartData.img,mode:""}}):t._e(),a("v-uni-text",{staticClass:"msg"},[t._v(t._s(t.aleartData.msg))])],1),a("v-uni-view",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.posterImageClose()}}},[t._v(t._s(t.aleartData.btn))])],1):t._e()},r=[]},5590:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* crmeb颜色变量 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.header[data-v-67ee0e16]{color:#fff;background-color:var(--view-theme);display:flex;align-items:center;justify-content:center;flex-direction:column;padding:%?80?% 0}.header .pay-status[data-v-67ee0e16]{display:flex;align-items:center}.header .pay-status .iconfont[data-v-67ee0e16]{font-size:%?74?%;background:rgba(0,0,0,.08);border-radius:50%;margin-right:%?30?%;padding:%?9?%}.header .pay-status .pay-status-r[data-v-67ee0e16]{display:flex;flex-direction:column}.header .pay-status .pay-status-r .pay-status-text[data-v-67ee0e16]{font-size:%?38?%;font-weight:700;padding-bottom:%?10?%}.header .grids[data-v-67ee0e16] .grid_wrap .lottery_wrap .lottery_grid li:nth-of-type(9){background:hsla(0,0%,100%,.2)!important}.header .jump[data-v-67ee0e16]{display:flex;padding-top:%?40?%}.header .jump .jump-det[data-v-67ee0e16]{background:#fff;opacity:1;border-radius:22px;color:#e93323;padding:%?10?% %?38?%;margin-right:%?30?%}.header .jump .jump-index[data-v-67ee0e16]{border:1px solid #feffff;opacity:1;padding:%?10?% %?38?%;border-radius:22px}.grids-top[data-v-67ee0e16]{display:flex;justify-content:center;padding:%?30?% 0 0 0}.grids-top uni-image[data-v-67ee0e16]{width:%?40?%;height:%?40?%}.grids-top .grids-title[data-v-67ee0e16]{display:flex;justify-content:center;font-size:20px;color:#e93323;z-index:999;padding:0 %?14?%;font-weight:700}[data-v-67ee0e16] .lottery_grid{background-color:#e93323;border-radius:%?12?%}.grids[data-v-67ee0e16]{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:%?20?%;position:relative;padding:%?30?%}.grids .grids-bag[data-v-67ee0e16]{position:absolute;top:0;left:0;width:%?750?%;height:%?750?%;padding:%?20?%;display:flex;justify-content:center;align-items:center}.grids .grids-box[data-v-67ee0e16]{width:%?700?%;height:%?700?%;padding:%?20?%;background-color:#e74435}.grids .winning-tips-list[data-v-67ee0e16]{display:flex;align-items:center;justify-content:center;width:50%;font-size:%?20?%;line-height:%?40?%;height:%?40?%;font-weight:400;color:#fff8f8;margin:%?30?% 0;z-index:999;background:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3) 51%,hsla(0,0%,100%,0))}.grids .winning-tips-list .iconfont[data-v-67ee0e16]{font-size:%?20?%;margin-right:%?10?%}.mask[data-v-67ee0e16]{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.8);z-index:9}',""]),t.exports=e},"574e":function(t,e,i){"use strict";i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{aleartData:{}}},props:{aleartType:{type:Number},alData:{type:Object},aleartStatus:{type:Boolean,default:!1}},watch:{aleartType:function(t){1===t?this.aleartData={title:"暂无抽奖资格",msg:"1、您未关注公众号\n2、您未获得VIP权限，获取VIP途径：\n（1）购买过打通版的用户可在会员群联系官方客服开通\n（2）官方小程序商城购买CRMEB打通版、企业版后自动开通",btn:"我知道了"}:2===t&&(this.aleartData={title:"抽奖结果",img:this.alData.image,msg:this.alData.prompt,btn:"好的",type:this.alData.type})},aleartStatus:function(t){t||(this.aleartData={})}},methods:{posterImageClose:function(t){this.$emit("close",!1)}}};e.default=a},"5ec1":function(t,e,i){var a=i("5590");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("5a146df2",a,!0,{sourceMap:!1,shadowMode:!1})},"74af":function(t,e,i){"use strict";i.r(e);var a=i("e811"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"7b8b":function(t,e,i){"use strict";i.r(e);var a=i("574e"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"7fe5":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAA+CAMAAACsn+1dAAAAsVBMVEUAAABAgP/vMCD/jwBAgP9AeP/vMCD/lwhGef9Fev/qMCD/lQtEe/9EfP/rMCD/lwxDfP/oMCBGfP/pMyP/lg1Gff/qMyNFff/qMiP/lQ1Fff//lQ5Eff/oMiL/lg5Eff/pMiJGfv/pMiL9lQ79lg79lQ7pMiLpMyP9lg7+lg/pMyP+lQ7oMyP+lg/oMiP+lg/+lQ/pMiL+lg/+lg/+lQ/pMiL+lQ/pMyL+lg/pMyP+lg+2dJnSAAAAOXRSTlMACBAQGCAgICgwMDA4QEBASE9QUFBYX2BgYGhvcHBweH+AgICPkJ+goK+wsL+/wMDP0NDf4O/v8PB4FfzlAAABYElEQVQYGe3B21LCMBQF0F2LFKmCclFQAWMUq1wKUoo5//9hMrUgrTlOEt8c1sJe+DRbES1mdwFc9FPamzVhK1xRwasPK52UShYBLPTpp9SHsTAljYUPUwlpSRjqEyOAmYQYEYyExElh5JlYTZiIiSVhIiGWhAnixTBBvAlMxMSSMBETawgTQ2IFMBEQJ4GZmBgSnPbDdPpwhVyT9BIfer21yqyv8WVCWh3ovai9MTL+O2lE0HtRB8bIhB/0wwR6DVXQQMZ/p5IIjLkqmOKLL+lQ0gGjqkqqyAXRB+US6YPTUCUNfGtKGUdyGOAXA1UygJ22KmnDTl2V1GFpowo2sPWoCh5h62SpDixPYK2+UXubOhxU5yq3rMJN701tvfVwdHT0H3nnl5dncFcbia37ChxVRiIz8uCmK3LncCN2buBG7NzAzb3IdeHmQuRqcOPdikwLrryWEGJ0gT/wTk/h5BNb3MO9jWlv4QAAAABJRU5ErkJggg=="},"81be":function(t,e,i){var a=i("99a4");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("931e466c",a,!0,{sourceMap:!1,shadowMode:!1})},"91e7":function(t,e,i){"use strict";var a=i("5ec1"),n=i.n(a);n.a},"99a4":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* crmeb颜色变量 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.aleart[data-v-63a2126f]{width:%?500?%;position:fixed;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);z-index:9999;top:50%;margin-top:%?-357?%;background-color:#fff;padding:%?30?%;border-radius:%?12?%}.aleart .title[data-v-63a2126f]{font-size:18px;color:#e82c27;font-weight:700;text-align:center;padding-bottom:%?10?%;border-bottom:1px solid rgba(232,44,39,.2)}.aleart .aleart-body[data-v-63a2126f]{display:flex;align-items:center;justify-content:center;flex-direction:column;padding:%?60?% 0}.aleart .aleart-body .goods-img[data-v-63a2126f]{width:%?150?%;height:%?150?%}.aleart .aleart-body .msg[data-v-63a2126f]{font-size:%?30?%;color:#282828}.aleart .btn[data-v-63a2126f]{width:100%;padding:%?15?% 0;color:#fff;background:linear-gradient(90deg,#f34a46,#fa9532);border-radius:20px;text-align:center}.aleart .close[data-v-63a2126f]{width:%?46?%;height:%?75?%;position:fixed;right:0;top:%?-73?%;display:block}',""]),t.exports=e},a4d4:function(t,e,i){"use strict";i.r(e);var a=i("a66b"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},a66b:function(t,e,i){"use strict";var a=i("4ea4");i("4160"),i("d81d"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("7e2a"),r=i("0a8c"),s=i("182f"),o=i("2f62"),d=a(i("d32b")),l={components:{home:d.default},props:{aleartStatus:{type:Boolean,default:!1}},data:function(){return{regionDval:["浙江省","杭州市","滨江区"],id:0,userAddress:{is_default:!1},region:["省","市","区"],valueRegion:[0,0,0],isAuto:!1,isShowAuth:!1,district:[],multiArray:[],multiIndex:[0,0,0],cityId:0,defaultRegion:["广东省","广州市","番禺区"],defaultRegionCode:"110101"}},computed:(0,o.mapGetters)(["isLogin"]),watch:{isLogin:{handler:function(t,e){t&&this.getUserAddress()},deep:!0}},created:function(t){this.isLogin?(this.getCityList(),this.getUserAddress()):(0,s.toLogin)()},methods:{getCityList:function(){var t=this,e=this;(0,r.getCity)().then((function(i){t.district=i.data,e.initialize()}))},initialize:function(){var t=this,e=[],i=[],a=[];if(t.district.length){var n=t.district[0].c||[],r=n.length&&n[0].c||[];t.district.forEach((function(t){e.push(t.n)})),n.forEach((function(t){i.push(t.n)})),r.forEach((function(t){a.push(t.n)})),this.multiArray=[e,i,a]}},bindRegionChange:function(t){var e=this.multiIndex,i=this.district[e[0]]||{c:[]},a=i.c[e[1]]||{v:0},n=this.multiArray,r=t.detail.value;this.region=[n[0][r[0]],n[1][r[1]],n[2][r[2]]],this.cityId=a.v,this.valueRegion=[0,0,0],this.initialize()},bindMultiPickerColumnChange:function(t){var e=this,i=t.detail.column,a=t.detail.value,n=this.district[a]||{c:[]},r=e.multiArray,s=e.multiIndex;switch(s[i]=a,i){case 0:var o=n.c[0]||{c:[]};r[1]=n.c.map((function(t){return t.n})),r[2]=o.c.map((function(t){return t.n}));break;case 1:var d=e.district[s[0]].c[s[1]].c||[];r[2]=d.map((function(t){return t.n}));break;case 2:break}this.multiArray=r,this.multiIndex=s},onLoadFun:function(){this.getUserAddress()},authColse:function(t){this.isShowAuth=t},toggleTab:function(t){this.$refs[t].show()},onConfirm:function(t){this.region=t.checkArr[0]+"-"+t.checkArr[1]+"-"+t.checkArr[2]},getUserAddress:function(){if(!this.id)return!1;var t=this;(0,n.getAddressDetail)(this.id).then((function(e){var i=[e.data.province,e.data.city,e.data.district];t.$set(t,"userAddress",e.data),t.$set(t,"region",i),t.cityId=e.data.city_id}))},getWxAddress:function(){var t=this;uni.authorize({scope:"scope.address",success:function(e){uni.chooseAddress({success:function(e){var i={};i.province=e.provinceName,i.city=e.cityName,i.district=e.countyName,(0,n.editAddress)({address:i,is_default:1,real_name:e.userName,post_code:e.postalCode,phone:e.telNumber,detail:e.detailInfo,id:0,type:1}).then((function(e){return setTimeout((function(){if(t.cartId){t.cartId,t.pinkId,t.couponId;t.cartId="",t.pinkId="",t.couponId="",uni.navigateTo({url:t.id})}else uni.navigateBack({delta:1})}),1e3),t.$util.Tips({title:"添加成功",icon:"success"})})).catch((function(e){return t.$util.Tips({title:e})}))},fail:function(e){if("chooseAddress:cancel"==e.errMsg)return t.$util.Tips({title:"取消选择"})}})},fail:function(e){uni.showModal({title:"您已拒绝导入微信地址权限",content:"是否进入权限管理，调整授权？",success:function(e){if(e.confirm)uni.openSetting({success:function(t){}});else if(e.cancel)return t.$util.Tips({title:"已取消！"})}})}})},getAddress:function(){var t=this,e=this;e.$wechat.openAddress().then((function(i){(0,n.editAddress)({id:t.id,real_name:i.userName,phone:i.telNumber,address:{province:i.provinceName,city:i.cityName,district:i.countryName},detail:i.detailInfo,is_default:1,post_code:i.postalCode,type:1}).then((function(){setTimeout((function(){uni.navigateTo({url:e.id})}),1e3),e.$util.Tips({title:"添加成功",icon:"success"})})).catch((function(t){return e.$util.Tips({title:t||"添加失败"})}))})).catch((function(t){}))},formSubmit:function(t){var e=this,i=t.detail.value;if(!i.name)return e.$util.Tips({title:"请填写收货人姓名"});if(!i.phone)return e.$util.Tips({title:"请填写联系电话"});if(!/^1(3|4|5|7|8|9|6)\d{9}$/i.test(i.phone))return e.$util.Tips({title:"请输入正确的手机号码"});if("省"==e.region[0])return e.$util.Tips({title:"请选择所在地区"});if(!i.detail)return e.$util.Tips({title:"请填写详细地址"});var a=e.region;i.address={province:a[0],city:a[1],district:a[2],city_id:e.cityId},this.$emit("getAddress",i)},posterImageClose:function(){this.$emit("close",!1)}}};e.default=l},af68:function(t,e,i){"use strict";i.r(e);var a=i("3c4e"),n=i("7b8b");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("cd0b");var s,o=i("f0c5"),d=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"63a2126f",null,!1,a["a"],s);e["default"]=d.exports},b967:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA3CAMAAABuDnn5AAAApVBMVEUAAABAgP9AgP/vMCD/jwBAgP9AeP/vMCD/lwhAef9Gef9Fev/qMCD/lQtEfP/rMCD/lwxDfP9GfP/pMyP/lg3qMyP/lg1Fff/qMiP/lQ1Fff//lQ5Eff/oMiJEff/pMiL/lw5Gfv/pMiL9lQ79lQ79lQ79lg7+lg/pMyP+lQ7oMyPoMiP+lg/+lQ/+lg/+lg/+lQ/pMiL+lQ/pMyL+lg/pMyP+lg/7+mDCAAAANXRSTlMACBAQEBggICAoKDAwMEBAQFBQUFBfX2BgYGhvcHB4f3+AgICQn6CvsLC/wMDP0N/g7+/w8OucP4YAAAFCSURBVEjH7ZXdUoMwEEZRIsVWC6VoDSoaaam1tWps9v0fTUPrDzSB3cw40wvPLXMm2c23i+eh6Y8yIbLRqUcjuBE7JicUbyB+MXD0hAiw3nFeF/MjpJiIBkOk2PREjuzonihwnR3ui/3qQ3R30SOKukj/SSn1dkU/8VFVnFFr9LeeeqB2NdqJS+o7Yk40J2db43uPnFV/qb0xPuX593REt2O/Mz2Z2zzqDZBMPq0k8P45dOJzuhNeP4NGzi8ZRZvBD/Ie7XEJNV6QV55CE5livAIMIM7kJg9k2OUxaRRh7nRRTdwhbmziot1LwUq7WNrF9idZ2cXCrUSAaato92DlKpZ/U+PCLnKHpFa0DzSzemvPMQG8a2s4Hmiaf9Rw2BrLEauDralxszeIo/fjay2kIWEl869KN2VM/AmwOC2KGGt9AIHTrc8Q5oODAAAAAElFTkSuQmCC"},bef4:function(t,e,i){"use strict";i.r(e);var a=i("3929"),n=i("a4d4");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("df92");var s,o=i("f0c5"),d=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"5bb97616",null,!1,a["a"],s);e["default"]=d.exports},cd0b:function(t,e,i){"use strict";var a=i("81be"),n=i.n(a);n.a},df92:function(t,e,i){"use strict";var a=i("0065"),n=i.n(a);n.a},e811:function(t,e,i){"use strict";var a=i("4ea4");i("4160"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=a(i("ade3")),s=a(i("20ce")),o=a(i("af68")),d=a(i("bef4")),l=(i("7513"),i("3334"),i("182f")),c=i("d1c3"),u=i("2f62"),f=a(i("db1b")),p={components:{gridsLottery:s.default,lotteryAleart:o.default,userAddress:d.default},mixins:[f.default],props:{options:{type:Object}},data:function(){return{lotteryShow:!1,addressModel:!1,lottery_num:0,aleartType:0,aleartStatus:!1,lottery_draw_param:{startIndex:3,totalCount:3,winingIndex:1,speed:100},alData:{},type:"",prize:[],orderId:"",order_pay_info:{paid:1,_status:{}},isAuto:!1,isShowAuth:!1,couponsHidden:!0,couponList:[],totalPrice:0}},computed:(0,u.mapGetters)(["isLogin"]),watch:{isLogin:{handler:function(t,e){},deep:!0},options:{handler:function(t,e){t&&(this.orderId=t.order_id,this.totalPrice=t.totalPrice,this.type=t.type,this.getLotteryData(t.type))},deep:!0}},created:function(t){this.orderId=this.options.order_id,this.totalPrice=this.options.totalPrice,this.type=this.options.type,this.isLogin?this.getLotteryData(this.type):(0,l.toLogin)()},methods:(n={openTap:function(){this.$set(this,"couponsHidden",!this.couponsHidden)},orderDetails:function(){this.$emit("orderDetails")},getWiningIndex:function(t){var e=this;this.aleartType=0,(0,c.startLottery)({id:this.id}).then((function(i){e.prize.forEach((function(a,n){i.data.id===a.id&&(e.alData=i.data,e.lottery_draw_param.winingIndex=n,t(e.lottery_draw_param))}))})).catch((function(t){e.$util.Tips({title:t})}))},goIndex:function(t){uni.switchTab({url:"/pages/index/index"})},goOrderDetails:function(t){},getLotteryData:function(t){var e=this;(0,c.getLotteryData)(t).then((function(t){e.factor_num=t.data.lottery.factor_num,e.id=t.data.lottery.id,e.prize=t.data.lottery.prize,e.lottery_num=t.data.lottery_num,e.prize.push({a:1}),e.$emit("lotteryShow",!0),e.lotteryShow=!0})).catch((function(t){e.$emit("lotteryShow",!1),e.lotteryShow=!1}))},closeLottery:function(t){this.aleartStatus=!1,this.getLotteryData(this.type),6===this.alData.type&&(this.addressModel=!0)},getAddress:function(t){var e=this,i=t;i.id=this.alData.lottery_record_id,i.address=t.address.province+t.address.city+t.address.district+t.detail,(0,c.receiveLottery)(i).then((function(t){e.$util.Tips({title:"领取成功"}),e.addressModel=!1})).catch((function(t){e.$util.Tips({title:t})}))}},(0,r.default)(n,"getWiningIndex",(function(t){var e=this;this.aleartType=0,(0,c.startLottery)({id:this.id}).then((function(i){e.prize.forEach((function(a,n){i.data.id===a.id&&(e.alData=i.data,e.lottery_draw_param.winingIndex=n,t(e.lottery_draw_param))}))})).catch((function(t){e.$util.Tips({title:t})}))})),(0,r.default)(n,"luck_draw_finish",(function(t){this.aleartType=2,this.aleartStatus=!0})),n)};e.default=p}}]);